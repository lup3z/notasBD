-- MySQL Script generated by MySQL Workbench
-- Wed Oct 13 20:21:27 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema notasBD
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `notasBD` DEFAULT CHARACTER SET utf8 ;
USE `notasBD` ;

-- -----------------------------------------------------
-- Table `notasBD`.`usuarios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `notasBD`.`usuarios` (
  `id_usuarios` INT NOT NULL AUTO_INCREMENT,
  `usu_nombre` VARCHAR(45) NOT NULL,
  `usu_mail` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_usuarios`))
ENGINE = InnoDB;


INSERT INTO `notasbd`.`usuarios` (`id_usuarios`, `usu_nombre`, `usu_mail`) VALUES 
('1', 'lucia', 'lucia.aznar@gmail.com'),
('2', 'alejandro', 'alejandro.malandra@gmail.com'),
('3', 'valeria', 'valeria.malandra@gmail.com'),
('4', 'teresa', 'teresa.malandra@gmail.com'),
('5', 'maria', 'maria.malandra@gmail.com'),
('6', 'mercedes', 'mercedes.malandra@gmail.com'),
('7', 'pablo', 'pablo.malandra@gmail.com'),
('8', 'marcos', 'marcos.malandra@gmail.com'),
('9', 'stevie', 'stevie.malandra@gmail.com'),
('10', 'georgina', 'georgina.malandra@gmail.com');


-- -----------------------------------------------------
-- Table `notasBD`.`registro_notas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `notasBD`.`registro_notas` (
  `id_registro_notas` INT NOT NULL,
  `titulo` VARCHAR(100) NOT NULL,
  `descripcion` VARCHAR(45) NOT NULL,
  `categoria` VARCHAR(45) NOT NULL,
  `puede_ser_borrada` INT NOT NULL DEFAULT 1,
  `ultima_modificacion` DATE NOT NULL,
  `fecha_creacion` DATE NULL,
  `id_de_usuario` INT NOT NULL,
  PRIMARY KEY (`id_registro_notas`),
  INDEX `id_de_usuario_idx` (`id_de_usuario` ASC),
  CONSTRAINT `id_de_usuario`
    FOREIGN KEY (`id_de_usuario`)
    REFERENCES `notasBD`.`usuarios` (`id_usuarios`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO `notasbd`.`registro_notas` (`id_registro_notas`, `titulo`, `descripcion`, `categoria`, `puede_ser_borrada`, `ultima_modificacion`, `fecha_creacion`, `id_de_usuario`) VALUES 
('1', 'titulo de la nota1', 'descripcion de la nota1', 'deportes', '1', '2010-02-01', '2010-02-01', '2'),
('2', 'titulo de la nota2', 'descripcion de la nota2', 'cultura', '0', '2010-03-01', '2010-02-01', '3'),
('3', 'titulo de la nota3', 'descripcion de la nota3', 'gastronomia', '0', '2011-02-01', '2010-02-01', '1'),
('4', 'titulo de la nota4', 'descripcion de la nota4', 'politica', '1', '2020-02-01', '2010-02-01', '1'),
('5', 'titulo de la nota5', 'descripcion de la nota5', 'sociedad', '0', '2020-02-01', '2010-02-01', '2'),
('6', 'titulo de la nota6', 'descripcion de la nota6', 'cultura', '1', '2010-02-01', '2010-02-01', '1'),
('7', 'titulo de la nota7', 'descripcion de la nota7', 'deportes', '0', '2021-02-01', '2010-02-01', '4'),
('8', 'titulo de la nota8', 'descripcion de la nota8', 'gastronomia', '1', '2010-05-01', '2010-02-01', '1'),
('9', 'titulo de la nota9', 'descripcion de la nota9', 'deportes', '1', '2010-02-01', '2010-02-01', '1'),
('10', 'titulo de la nota10', 'descripcion de la nota10', 'deportes', '0', '2010-07-01', '2010-02-01', '8'),
('11', 'titulo de la nota11', 'descripcion de la nota11', 'gastronomia', '1', '2010-06-01', '2010-02-01', '10'),
('12', 'titulo de la nota12', 'descripcion de la nota12', 'sociedad', '0', '2010-02-01', '2010-02-01', '10'),
('13', 'titulo de la nota13', 'descripcion de la nota13', 'sociedad', '1', '2010-02-01', '2010-02-01', '1');


-- -----------------------------------------------------
-- Table `notasBD`.`historico_notas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `notasBD`.`historico_notas` (
  `id_de_registro` INT NOT NULL,
  `fecha_creacion` DATE NOT NULL,
  `fecha_edicion` DATE NULL,
  `fecha_borrado` DATE NULL,
  INDEX `id_de_registro_idx` (`id_de_registro` ASC),
  CONSTRAINT `id_de_registro`
    FOREIGN KEY (`id_de_registro`)
    REFERENCES `notasBD`.`registro_notas` (`id_registro_notas`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO `notasbd`.`historico_notas` (`id_de_registro`, `fecha_creacion`, `fecha_edicion`,`fecha_borrado`) VALUES
('1', '2011-02-01', NULL,'2011-02-01'),
('5', '2011-02-01', '2011-02-01','2011-02-01'),
('2', '2011-02-01', '2011-02-01','2011-02-01'),
('1', '2011-02-01', NULL,NULL),
('1', '2011-02-01', NULL,NULL),
('8', '2011-02-01', NULL,'2011-02-01'),
('7', '2011-02-01', NULL,NULL),
('4', '2011-02-01', NULL,'2011-02-01'),
('3', '2011-02-01', NULL,NULL),
('2', '2011-02-01', NULL,'2011-02-01'),
('11', '2011-02-01', NULL,NULL),
('13', '2011-02-01', NULL,NULL);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
